---
- name: add vscodium gpg key
  shell: |
    wget -qO - https://gitlab.com/paulcarroty/vscodium-deb-rpm-repo/raw/master/pub.gpg \
        | gpg --dearmor \
        | sudo dd of=/usr/share/keyrings/vscodium-archive-keyring.gpg

- name: add vscodium repository
  shell: |
    echo 'deb [ signed-by=/usr/share/keyrings/vscodium-archive-keyring.gpg ] https://download.vscodium.com/debs vscodium main' \
        | sudo tee /etc/apt/sources.list.d/vscodium.list

- name: install vscodium
  apt:
    name: codium
    state: latest
    update_cache: yes
  when: ansible_distribution in ["Debian", "Ubuntu", "Pop!_OS"]